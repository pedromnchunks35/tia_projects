%factos dinamicos
:- dynamic(verdadeiro/2).
%operadores
:- op( 800, fx, if). 
:- op( 700, xfx, then). 
:- op( 300, xfy, or). 
:- op( 200, xfy, and).


%Funcao para ir buscar carateristicas
/****************************************************************************************************************************************************************/
/*==============================================================================================================================================================*/
/*
Q1- Qualidade_geral
Q2- Condicao_geral
Q3- Qualidade_cozinha
Q4- Tipo_localidade
Q5- Tipo_alojamento
Q6- Material_telhado
Q7- Material exterior
Q8- Piscina
Q9- Tamanho_casa
Q10- Fogueira
Q11- Qualidade material exterior
Q12- Condicao material exterior
Q13- Cidade
Q14- Preco
*/
get_descri(Id,Q1,Q2,Q3,Q4,Q5,Q6,Q7,Q8,Q9,Q10,Q11,Q12,Q13,Q14):-
rentops(Id,Q9,Q4,_,_,_,_,_,_,_,_,_,Q13,_,_,Q5,_,Q1,Q2,_,_,Q6,_,Q7,_,_,_,Q11,Q12,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,Q3,_,_,Q10,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,Q8,_,_,_,_,_,_,_,Q14).
  

/*==============================================================================================================================================================*/
/****************************************************************************************************************************************************************/


%FUNCAO PRINCIPAL CABECA
/****************************************************************************************************************************************************************/
/*==============================================================================================================================================================*/
%FUNCAO PRINCIPAL
%cabeca
cabeca(Preco,R1,R2,R3,R4,R5,R6,R7,R8,R9,R):-
   %comprovar predicados em que existe filtro de precos
   findall(_,demo(R1,Preco),_),
   findall(_,demo(R2,Preco),_),
   findall(_,demo(R3,Preco),_),
   findall(_,demo(R4,Preco),_),
   findall(_,demo(R5,Preco),_),
   findall(_,demo(R6,Preco),_),
   findall(_,demo(R7,Preco),_),
   findall(_,demo(R8,Preco),_),
   findall(_,demo(R9,Preco),_),
   %ir buscar todos os ids que tem pontos
   findall(Id,verdadeiro(Id,_),Lista_ids),
   %remover duplicados
   sort(Lista_ids,Newlista),
   %calcular pontos
   counter_points(Newlista,[],Lista_pontos),
   %ordenar lista de pontos
   list_top_5(Lista_pontos,R).
/*==============================================================================================================================================================*/
/****************************************************************************************************************************************************************/

/*funcao que executa o nosso SBC*/
/*CATEGORIA A*/
/****************************************************************************************************************************************************************/
/*==============================================================================================================================================================*/
%A.1
%funcao de comeco que verifica se o Resultado do predicado ja foi comprovado e se nao estiver procura comprova-lo
demo(P,Preco):- provavelfacto(Id,P:Id_p:Points,Preco),
%descritor
write('Derivou do id ->') , write(Id) , write(" com a regra ->"), write(P),write(" e com os pontos ->"),write(Points),nl,
%tornar o facto verdadeiro
assert(verdadeiro(Id,P:Id_p:Points)),
%acabar com a iteracao
demo(P,Preco).
/*==============================================================================================================================================================*/
%A.2
%paragem
demo(_,_):-
   %dizer que nao há mais factos
    write('Acabou'), nl.
/*==============================================================================================================================================================*/
%A.3
%funcao de verificacao de facto e por sua vez aprovacao do mesmo caso nao seja facto
provavelfacto(Id,P:Id_p:Points,Preco):-
   %ir buscar a regra
   if Cond then P:Id_p:Points,
   %se a regra nao estiver comprovada verificar se é possivel comprovar
   \+ verdadeiro(Id,P:Id_p:Points) ,
   %comprovar
   verificarfacto(Id,Cond,Preco).
/*==============================================================================================================================================================*/
%A.4
verificarfacto(Id,qual_entre:X:e:Y,Preco):-
   rentops(Id,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,X1,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,P),
   P<Preco,
   X1 > X,
   X1 < Y.
/*==============================================================================================================================================================*/
%A.5
verificarfacto(Id,condi_entre:X:e:Y,Preco):-
   rentops(Id,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,X1,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,P),
   P<Preco,
   X1 > X,
   X1 < Y.
/*==============================================================================================================================================================*/
%A.6
verificarfacto(Id,bath_sup:X,Preco):-
   rentops(Id,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,X1,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,P),
   P<Preco,
   X1 > X.
/*==============================================================================================================================================================*/
%A.7
verificarfacto(Id,beed_sup:X,Preco):-
   rentops(Id,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,X1,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,P),
   P<Preco,
   X1 > X.
/*==============================================================================================================================================================*/
%A.8
verificarfacto(Id,B1 and B2,Preco):-
   verificarfacto(Id,B1,Preco),
   verificarfacto(Id,B2,Preco).
/*==============================================================================================================================================================*/
%A.9
verificarfacto(Id,B1 or B2,Preco):-
   verificarfacto(Id,B1,Preco);
   verificarfacto(Id,B2,Preco).


/****************************************************************************************************************************************************************/

/****************************************************************************************************************************************************************/
%A.1 value 28
verificarfacto(Id,B,Preco):-
   rentops(Id,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,B,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,P),
   P<Preco.

/****************************************************************************************************************************************************************/
%A.1 value 63
verificarfacto(Id,B,Preco):-
   rentops(Id,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,B,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,P),
   B=<669,
   P<Preco.
/****************************************************************************************************************************************************************/
%A.1 value 20
verificarfacto(Id,B,Preco):-
   rentops(Id,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,B,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,P),
   B>1970,
   P<Preco.
/****************************************************************************************************************************************************************/
%A.1 value 44
verificarfacto(Id,B,Preco):-
   rentops(Id,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,B,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,P),
   B=<1493,
   P<Preco.
/****************************************************************************************************************************************************************/
%A.1 value 28
verificarfacto(Id,B,Preco):-
   rentops(Id,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,B,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,P),
   B=<444,
   P<Preco.
/****************************************************************************************************************************************************************/
%A.1 value 47
verificarfacto(Id,B,Preco):-
   rentops(Id,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,B,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,P),
   B=<1973,
   P<Preco.
/****************************************************************************************************************************************************************/
%A.1 value 5
verificarfacto(Id,B,Preco):-
   rentops(Id,_,_,_,B,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,P),
   B>2081,
   P<Preco.
/****************************************************************************************************************************************************************/
%A.1 value 6
verificarfacto(Id,B,Preco):-
   rentops(Id,_,_,_,_,B,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,P),
   P<Preco.
/****************************************************************************************************************************************************************/
%A.1 value 7
verificarfacto(Id,B,Preco):-
   rentops(Id,_,_,_,_,_,B,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,P),
   P<Preco.
/****************************************************************************************************************************************************************/
%A.1 value 20
verificarfacto(Id,B,Preco):-
   rentops(Id,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,B,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,P),
   B>1982,
   P<Preco.
/****************************************************************************************************************************************************************/
%A.1 value 19
verificarfacto(Id,B,Preco):-
   rentops(Id,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,B,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,P),
   B>1,
   P<Preco.
/****************************************************************************************************************************************************************/
%A.1 value 81
verificarfacto(Id,B,Preco):-
   rentops(Id,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,P),
   P>140494,
   P<Preco.
/****************************************************************************************************************************************************************/
%A.1 value 2
verificarfacto(Id,B,Preco):-
   rentops(Id,B,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,P),
   B>105,
   P<Preco.
/****************************************************************************************************************************************************************/
%A.1 value 47
verificarfacto(Id,B,Preco):-
   rentops(Id,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,B,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,P),
   B=<2604,
   P<Preco.
/****************************************************************************************************************************************************************/
%A.1 value 5
verificarfacto(Id,B,Preco):-
   rentops(Id,_,_,_,B,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,P),
   B>2655,
   P<Preco.
/****************************************************************************************************************************************************************/
%A.1 value 63
verificarfacto(Id,B,Preco):-
   rentops(Id,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,B,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,P),
   B=<611,
   P<Preco.
/****************************************************************************************************************************************************************/
%A.1 value 2
verificarfacto(Id,B,Preco):-
   rentops(Id,B,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,P),
   B=<105,
   P<Preco.
/****************************************************************************************************************************************************************/
%A.1 value 2
verificarfacto(Id,B,Preco):-
   rentops(Id,B,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,P),
   B>87,
   P<Preco.
/****************************************************************************************************************************************************************/
%A.1 value 19
verificarfacto(Id,B,Preco):-
   rentops(Id,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,B,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,P),
   B>1,
   P<Preco.
/****************************************************************************************************************************************************************/
%A.1 value 5
verificarfacto(Id,B,Preco):-
   rentops(Id,_,_,_,B,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,P),
   B>2655,
   P<Preco.
/****************************************************************************************************************************************************************/
%A.1 value 25
verificarfacto(Id,B,Preco):-
   rentops(Id,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,B,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,P),
   P<Preco.
/****************************************************************************************************************************************************************/
%A.1 value 16
verificarfacto(Id,B,Preco):-
   rentops(Id,_,_,_,_,_,_,_,_,_,_,_,_,_,_,B,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,P),
   P<Preco.
/****************************************************************************************************************************************************************/
%A.1 value 17
verificarfacto(Id,B,Preco):-
   rentops(Id,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,B,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,P),
   P<Preco.
/****************************************************************************************************************************************************************/
%A.1 value 45
verificarfacto(Id,B,Preco):-
   rentops(Id,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,B,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,P),
   B=<1849,
   P<Preco.
/****************************************************************************************************************************************************************/
%A.1 value 44
verificarfacto(Id,B,Preco):-
   rentops(Id,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,B,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,P),
   B>509,
   P<Preco.
/****************************************************************************************************************************************************************/
%A.1 value 69
verificarfacto(Id,B,Preco):-
   rentops(Id,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,B,_,_,_,_,_,_,_,_,_,_,_,P),
   B=<798,
   P<Preco.
/****************************************************************************************************************************************************************/
%A.1 value 70
verificarfacto(Id,B,Preco):-
   rentops(Id,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,B,_,_,_,_,_,_,_,_,_,_,P),
   B=<307,
   P<Preco.
/****************************************************************************************************************************************************************/
%A.1 value 47
verificarfacto(Id,B,Preco):-
   rentops(Id,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,B,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,P),
   B=<792,
   P<Preco.
/****************************************************************************************************************************************************************/
%A.1 value 52
verificarfacto(Id,B,Preco):-
   rentops(Id,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,B,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,P),
   B=<2001,
   P<Preco.
/****************************************************************************************************************************************************************/
%A.1 value 5
verificarfacto(Id,B,Preco):-
   rentops(Id,_,_,_,B,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,P),
   B>3079,
   P<Preco.
/****************************************************************************************************************************************************************/
%A.1 value 30
verificarfacto(Id,B,Preco):-
   rentops(Id,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,B,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,P),
   P<Preco.
/****************************************************************************************************************************************************************/
%A.1 value 52
verificarfacto(Id,B,Preco):-
   rentops(Id,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,B,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,P),
   B=<2001,
   P<Preco.
/****************************************************************************************************************************************************************/
%A.1 value 71
verificarfacto(Id,B,Preco):-
   rentops(Id,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,B,_,_,_,_,_,_,_,_,_,P),
   B=<345,
   P<Preco.
/****************************************************************************************************************************************************************/
%A.1 value 20
verificarfacto(Id,B,Preco):-
   rentops(Id,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,B,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,P),
   B>1959,
   P<Preco.
/****************************************************************************************************************************************************************/
%A.1 value 58
verificarfacto(Id,B,Preco):-
   rentops(Id,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,B,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,P),
   P<Preco.
/****************************************************************************************************************************************************************/
%A.1 value 18
verificarfacto(Id,B,Preco):-
   rentops(Id,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,B,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,P),
   B=<9,
   B>9,
   P<Preco.
/****************************************************************************************************************************************************************/
%A.1 value 21
verificarfacto(Id,B,Preco):-
   rentops(Id,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,B,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,P),
   B>2003,
   P<Preco.
/****************************************************************************************************************************************************************/
%A.1 value 39
verificarfacto(Id,B,Preco):-
   rentops(Id,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,B,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,P),
   B>1432,
   P<Preco.
/****************************************************************************************************************************************************************/
%A.1 value 27
verificarfacto(Id,B,Preco):-
   rentops(Id,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,B,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,P),
   B>142,
   P<Preco.
/****************************************************************************************************************************************************************/
%A.1 value 18
verificarfacto(Id,B,Preco):-
   rentops(Id,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,B,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,P),
   B=<8,
   P<Preco.
/****************************************************************************************************************************************************************/
%A.1 value 20
verificarfacto(Id,B,Preco):-
   rentops(Id,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,B,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,P),
   B>1985,
   P<Preco.
/****************************************************************************************************************************************************************/
%A.1 value 70
verificarfacto(Id,B,Preco):-
   rentops(Id,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,B,_,_,_,_,_,_,_,_,_,_,P),
   B=<76,
   P<Preco.
/****************************************************************************************************************************************************************/
%A.1 value 54
verificarfacto(Id,B,Preco):-
   rentops(Id,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,B,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,P),
   P<Preco.
/****************************************************************************************************************************************************************/
%A.1 value 62
verificarfacto(Id,B,Preco):-
   rentops(Id,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,B,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,P),
   B>0,
   P<Preco.
/****************************************************************************************************************************************************************/
%A.1 value 20
verificarfacto(Id,B,Preco):-
   rentops(Id,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,B,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,P),
   B=<1985,
   P<Preco.
/****************************************************************************************************************************************************************/
%A.1 value 18
verificarfacto(Id,B,Preco):-
   rentops(Id,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,B,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,P),
   B=<7,
   P<Preco.
/****************************************************************************************************************************************************************/
%A.1 value 21
verificarfacto(Id,B,Preco):-
   rentops(Id,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,B,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,P),
   B=<2008,
   P<Preco.
/****************************************************************************************************************************************************************/
%A.1 value 5
verificarfacto(Id,B,Preco):-
   rentops(Id,_,_,_,B,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,P),
   B>2081,
   P<Preco.
/****************************************************************************************************************************************************************/
%A.1 value 20
verificarfacto(Id,B,Preco):-
   rentops(Id,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,B,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,P),
   B>1971,
   P<Preco.
/****************************************************************************************************************************************************************/
%A.1 value 20
verificarfacto(Id,B,Preco):-
   rentops(Id,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,B,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,P),
   B=<1971,
   P<Preco.
/****************************************************************************************************************************************************************/
%A.1 value 3
verificarfacto(Id,B,Preco):-
   rentops(Id,_,B,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,P),
   P<Preco.
/****************************************************************************************************************************************************************/
%A.1 value 18
verificarfacto(Id,B,Preco):-
   rentops(Id,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,B,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,P),
   B=<5,
   P<Preco.
/****************************************************************************************************************************************************************/
%A.1 value 18
verificarfacto(Id,B,Preco):-
   rentops(Id,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,B,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,P),
   B>5,
   P<Preco.
/****************************************************************************************************************************************************************/
%A.1 value 12
verificarfacto(Id,B,Preco):-
   rentops(Id,_,_,_,_,_,_,_,_,_,_,B,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,P),
   P<Preco.
/****************************************************************************************************************************************************************/
%A.1 value 60
verificarfacto(Id,B,Preco):-
   rentops(Id,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,B,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,P),
   B>1997,
   P<Preco.
/*==============================================================================================================================================================*/

/*funcao para pegar nos precos filtrados e calcular os pontos*/
/*CATEGORIA B*/
/****************************************************************************************************************************************************************/
/*==============================================================================================================================================================*/
%B.1
%funcao de paragem
counter_points([],Lista,R):-
   %inferir resultado
   append([],Lista,R).
/*==============================================================================================================================================================*/
%B.2  
%funcao de iteracao
counter_points([Id|Resto],Lista,R):-
   %ir buscar os pontos
   findall(Pontos,verdadeiro(Id,_:_:Pontos),Pontos_lista),
   %soma de todos os pontos da lista
   sum_list(Pontos_lista,Soma_pontos),
   %juntar á lista um pair de id e soma dos pontos calculada em cima
   append(Lista,[[Id,Soma_pontos]],Lista_aim),
   %continuar a iteracao
   counter_points(Resto,Lista_aim,R).
/*==============================================================================================================================================================*/
/****************************************************************************************************************************************************************/

/*funcao para ordenar os top 5 ids pela pontuacao*/
/*Categoria C*/
/****************************************************************************************************************************************************************/
/*==============================================================================================================================================================*/
%C1.1
%funcao para adicionar uma identificacao a cada lista, essa identificacao será o valor da pontuacao
listar_pares([], []).
listar_pares([E|Es], [B-E|Ps]) :-
   E = [_,B],
   listar_pares(Es, Ps).
/*==============================================================================================================================================================*/
%C1.2
%funcao para remover os identificadores que inserimos acima
remover_pares([], []).
remover_pares([_-V|Ps], [V|Vs]) :-
   remover_pares(Ps, Vs).
/*==============================================================================================================================================================*/
%C1.3
%funcao para retirar da lista os 5 primeiros elementos da mesma
top5(Src,N,L) :- findall(E, (nth1(I,Src,E), I =< N), L).
/*==============================================================================================================================================================*/
%C1.4
list_top_5(Xs, Ys) :-
   %identificamos cada lista com o seu respetivo valor da pontuacao
   listar_pares(Xs, Ps),
   %ordenamos os valores das identifacoes por ordem crescente 
   keysort(Ps, PsS),
   %removemos as identificacoes anteriormente adicionadas
   remover_pares(PsS, Ms),
   %revertemos a lista
   reverse(Ms, Os),
   %retiramos os 5 primeiros elementos da lista
   top5(Os, 5, Ys).
/*==============================================================================================================================================================*/
/****************************************************************************************************************************************************************/

/*Relativamente ás perguntas nśo detemos :resposta:pontos_resposta de modo a ser mais diferenciador*/

/*Pergunta 1*/

%resposta confort 
/*   id: 1 pontos: 10  */
if ex then confort:1:10.
/*   id: 2 pontos: 5  */
if 663 then confort:2:5.

%resposta place to sleep
/* id: 1 pontos: 13*/
if gd then place_to_sleep:1:13.
/* id: 2 pontos: 3*/
if 1970 then place_to_sleep_datac:1:0.
if gd and place_to_sleep_datac then place_to_sleep:2:20.
/* id: 3 pontos: 2*/
if 669 then place_to_sleep:3:2.
/* id: 4 pontos: 2*/
if 1493 then place_to_sleep:4:2.
/* id: 5 pontos: 10*/
if <=446 then place_to_sleep:5:10.

%resposta place to work
/* id: 1  pontos: 7*/
if ta then place_to_work:1:7.
/* id: 2 pontos: 3*/
if 1974 then place_to_work:2:3.



/*Pergunta 2*/

%resposta i love it
/* id: 1 pontos: 10*/
if 2081 then i_love_it:1:10.
/* id: 2 pontos: 10*/
if pave then i_love_it:2:10.
/* id: 3 pontos: 2*/
if pave then i_love_it:3:2.
/* id: 4 pontos: 5*/
if 1982 then i_love_it:4:5.

%resposta its irritant
/* id: 1 pontos: 10*/
if 2081 then i_love_it:1:10.
/* id: 2 pontos: 10*/
if pave then i_love_it:2:10.
/* id: 3 pontos: 2*/
if empty then i_love_it:3:2.
/* id: 4 pontos: 5*/
if 1 then i_love_it:4:5.
/* id: 5 pontos: 7*/
if 140494 then i_love_it:5:7.
/* id: 6 pontos: 3*/
if 569 then i_love_it:6:3.



/*pergunta 3*/

%resposta i like people
/* id: 1 pontos: 5*/
if 87 then i_like_people:1:5.
/* id: 2 pontos: 3*/
if 105 then i_like_people:2:3.
/* id: 1 pontos: 8*/
if 185 then i_like_people:3:8.
/* id: 2 pontos: 3*/
if 2604 then i_like_people:4:3.
/* id: 1 pontos: 2*/
if 2655 then i_like_people:5:2.
/* id: 2 pontos: 6*/
if 611 then i_like_people:6:6.

%resposta neutral
/* id: 1 pontos: 10*/
if 87 then neutral:1:10.
/* id: 2 pontos: 12*/
if 105 then neutral:2:12.

%resposta i dont rly like people
/* id: 1 pontos: 10*/
if 87 then i_dont_like_people:1:10.



/*Pergunta 4*/

%resposta jazz
/* id: 1 pontos: 3*/
if 1 then jazz:1:3.
/* id: 2 pontos: 1*/
if 1640 then jazz:2:1.
/* id: 3 pontos: 1*/
if 1993 then jazz:3:1.
/* id: 4 pontos: 1*/
if vinylsd or wdshngl then jazz:4:1.

%resposta pop
/* id: 1 pontos: 3*/
if 1 then pop:1:3.
/* id: 2 pontos: 1*/
if 1604 or reg then pop:2:1.
/* id: 3 pontos: 1*/
if 1993 then pop:3:1.
/* id: 4 pontos: 1*/
if metalsd then pop:4:1.

%resposta rap
/* id: 1 pontos: 3*/
if 1 or pave then rap:1:3.
/* id: 2 pontos: 1*/
if 1604 then rap:2:1.
/* id: 3 pontos: 1*/
if 1993 or hip then rap:3:1.
/* id: 4 pontos: 1*/
if cmentbd then rap:4:1.



/*Pergunta 5*/
%resposta yes, a lot
/* id: 1 pontos: 15*/
if ex then yes_a_lot:1:15.

%resposta sou um campeao
/* id: 1 pontos: 10*/
if gd then champion:1:10.

%resposta nop
/* id: 1 pontos: 5*/
if empty then not_rly:1:5.



/*Pergunta 6*/
%resposta sim , grande
/* id: 1 pontos: 15*/
if 1fam then big_one:1:15.
/* id: 2 pontos: 10*/
if slv1 then big_one:2:10.

%resposta sim
/* id: 1 pontos: 12*/
if 1fam then yes_family:1:12.
/* id: 2 pontos: 10*/
if 2story then yes_family:2:10.

%resposta no
/* id: 1 pontos: 10*/
if twnhse then no_family:1:10.
/* id: 2 pontos: 8*/
if 1story then no_family:2:8.



/*7º Pergunta*/

%resposta sim , favorita
/* id: 1 pontos: 5*/
if 1849 then yes_favorite_fireplace:1:5.
/* id: 2 pontos: 1*/
if 509 then yes_favorite_fireplace:2:1.
/* id: 3 pontos: 8*/
if 798 then yes_favorite_fireplace:3:8.
/* id: 4 pontos: 10*/
if 307 then yes_favorite_fireplace:4:10.
/* id: 5 pontos: 2*/
if 792 then yes_favorite_fireplace:5:2.
/* id: 6 pontos: 7*/
if 2001 then yes_favorite_fireplace:6:7.
/* id: 7 pontos: 5*/
if 3079 then yes_favorite_fireplace:7:5.
/* id: 8 pontos: 3*/
if pconc then yes_favorite_fireplace:8:3.

%resposta okay
/* id: 1 pontos: 7*/
if 1849 then its_ok_fireplace:1:7.
/* id: 2 pontos: 3*/
if 508 then its_ok_fireplace:2:3.
/* id: 3 pontos: 2*/
if 798 then its_ok_fireplace:3:2.
/* id: 4 pontos: 9*/
if 307 then its_ok_fireplace:4:9.
/* id: 5 pontos: 8*/
if 792 then its_ok_fireplace:5:8.
/* id: 6 pontos: 3*/
if 2001 then its_ok_fireplace:6:3.
/* id: 7 pontos: 4*/
if 345 then its_ok_fireplace:7:4.
/* id: 8 pontos: 2*/
if 1959 then its_ok_fireplace:8:2.

%resposta nop
/* id: 1 pontos: 5*/
if empty then not_rly_fireplace:1:5.



/*8º Pergunta*/

%resposta sim , bastante
/* id: 1 pontos: 4*/
if 9 then yes_alot_appear:1:4.
/* id: 2 pontos: 11*/
if 8 then yes_alot_appear:2:11.
/* id: 3 pontos: 7*/
if 2003 then yes_alot_appear:3:7.
/* id: 4 pontos: 9*/
if 1432 then yes_alot_appear:4:9.
/* id: 5 pontos: 2*/
if 142 then yes_alot_appear:5:2.

%resposta um bocado
/* id: 1 pontos: 12*/
if 9 then just_a_bit_appear:1:12.
/* id: 2 pontos: 2*/
if 8 then just_a_bit_appear:2:2.
/* id: 3 pontos: 6*/
if 1985 then just_a_bit_appear:3:6.
/* id: 4 pontos: 8*/
if 76 then just_a_bit_appear:4:8.
/* id: 5 pontos: 5*/
if gd then just_a_bit_appear:5:5.
/* id: 6 pontos: 1*/
if 0 then just_a_bit_appear:6:1.

%resposta nop
/* id: 1 pontos: 9*/
if 9 then not_rly_appear:1:9.
/* id: 2 pontos: 10*/
if 8 then not_rly_appear:2:10.
/* id: 3 pontos: 4*/
if 1985 then not_rly_appear:3:4.
/* id: 4 pontos: 3*/
if 7 then not_rly_appear:4:3.
/* id: 5 pontos: 6*/
if 2008 then not_rly_appear:5:6.



/*9º Pergunta*/

%resposta yes i love it
/* id: 1 pontos: 10*/
if 2081 then yes_i_love_it:1:10.
/* id: 2 pontos: 8*/
if 2379 then yes_i_love_it:2:8.
/* id: 3 pontos: 6*/
if 1971 then yes_i_love_it:3:6.
/* id: 4 pontos: 4*/
if rm then yes_i_love_it:4:4.
/* id: 5 pontos: 2*/
if 5 then yes_i_love_it:5:2.

%resposta i prefer the desert
/* id: 1 pontos: 12*/
if 2081 then i_prefer_desert:1:12.
/* id: 2 pontos: 10*/
if 2379 then i_prefer_desert:2:10.
/* id: 3 pontos: 1*/
if 1971 then i_prefer_desert:3:1.
/* id: 4 pontos: 5*/
if rm then i_prefer_desert:4:5.
/* id: 5 pontos: 4*/
if 5 then i_prefer_desert:5:4.
/* id: 6 pontos: 6*/
if gtl then i_prefer_desert:6:6.
/* id: 7 pontos: 2*/
if 1997 then i_prefer_desert:7:2.

%resposta i prefer beatches
/* id: 1 pontos: 10*/
if 2081 then i_prefer_beatches:1:10.
/* id: 2 pontos: 11*/
if 2379 then i_prefer_beatches:2:11.
/* id: 3 pontos: 7*/
if 1971 then i_prefer_beatches:3:7.
/* id: 4 pontos: 5*/
if rm then i_prefer_beatches:4:5.

%resposta i prefer green areas
/* id: 1 pontos: 15*/
if 2081 then i_prefer_green_zones:1:15.
/* id: 2 pontos: 9*/
if 2379 then i_prefer_green_zones:2:9.
/* id: 3 pontos: 2*/
if 1971 then i_prefer_green_zones:3:2.
/* id: 4 pontos: 4*/
if fv then i_prefer_green_zones:4:4.


